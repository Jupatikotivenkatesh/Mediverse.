<!DOCTYPE html>
<html lang="en" data-bs-theme="light">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>MediSync | Full Hospital System</title>
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Rounded:opsz,wght,FILL,GRAD@24,400,1,0" />
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>

    <style>
        :root {
            --bs-font-sans-serif: 'Plus Jakarta Sans', sans-serif;
            --primary-color: #7380ec;
            --transition-speed: 0.4s;
        }
        
        body {
            background-color: var(--bs-tertiary-bg);
            font-family: 'Plus Jakarta Sans', sans-serif;
            overflow-x: hidden;
            transition: background 0.3s ease;
        }

        /* Login Overlay Styling */
        #loginOverlay {
            position: fixed;
            top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(255, 255, 255, 0.7);
            backdrop-filter: blur(20px);
            z-index: 2500;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: all var(--transition-speed) ease;
        }

        [data-bs-theme="dark"] #loginOverlay {
            background: rgba(15, 15, 25, 0.8);
        }

        .login-card {
            width: 100%;
            max-width: 420px;
            padding: 3rem;
            border-radius: 2.5rem;
            background: var(--bs-body-bg);
            box-shadow: 0 25px 50px -12px rgba(0, 0, 0, 0.25);
            border: 1px solid var(--bs-border-color);
            transform: translateY(20px);
            opacity: 0;
            transition: all 0.5s cubic-bezier(0.34, 1.56, 0.64, 1);
        }

        #loginOverlay.active .login-card {
            transform: translateY(0);
            opacity: 1;
        }

        /* Sidebar Styling */
        @media (min-width: 992px) {
            .sidebar-fixed {
                width: 280px;
                height: 100vh;
                position: sticky;
                top: 0;
                border-right: 1px solid var(--bs-border-color);
                background-color: var(--bs-body-bg);
                overflow-y: auto;
            }
        }

        .nav-link {
            color: var(--bs-secondary-color);
            font-weight: 600;
            margin-bottom: 5px;
            transition: all 0.2s ease;
            padding: 12px 20px;
        }

        .nav-link:hover:not(.active) {
            color: var(--primary-color);
            background-color: var(--bs-tertiary-bg);
            transform: translateX(5px);
        }

        .nav-link.active {
            background-color: var(--primary-color);
            color: white !important;
            box-shadow: 0 10px 15px -3px rgba(115, 128, 236, 0.4);
        }

        /* Generic UI Classes */
        .hover-lift { transition: transform 0.2s, box-shadow 0.2s; }
        .hover-lift:hover { transform: translateY(-5px); box-shadow: 0 10px 20px rgba(0,0,0,0.08)!important; }
        .cursor-pointer { cursor: pointer; }
        .icon-circle { width: 52px; height: 52px; border-radius: 14px; display: flex; align-items: center; justify-content: center; }
        
        #dynamicContent { transition: all 0.3s ease; }
    </style>
</head>
<body class="overflow-hidden">

    <div id="loginOverlay" class="active">
        <div class="login-card text-center">
            <div class="mb-5">
                <div class="bg-primary bg-opacity-10 d-inline-block p-3 rounded-4 mb-3">
                    <span class="material-symbols-rounded fs-1 text-primary">health_and_safety</span>
                </div>
                <h2 class="fw-extrabold">Medi<span class="text-primary">Sync</span></h2>
                <p class="text-secondary small">Secure Staff Portal</p>
            </div>
            <form id="loginForm" onsubmit="performLogin(event)">
                <div class="form-floating mb-3">
                    <input type="email" class="form-control rounded-4 border-0 bg-body-tertiary" id="email" placeholder="Email" value="venkatesh@medisync.com" required>
                    <label>Email Address</label>
                </div>
                <div class="form-floating mb-4">
                    <input type="password" class="form-control rounded-4 border-0 bg-body-tertiary" id="password" placeholder="Password" value="admin123" required>
                    <label>Password</label>
                </div>
                <button type="submit" class="btn btn-primary w-100 py-3 rounded-pill fw-bold shadow-lg">Sign In</button>
            </form>
        </div>
    </div>

    <div class="toast-container position-fixed bottom-0 end-0 p-3" style="z-index: 3000">
        <div id="liveToast" class="toast align-items-center text-bg-dark border-0 rounded-4" role="alert">
            <div class="d-flex p-2">
                <div class="toast-body d-flex align-items-center gap-2">
                    <span class="material-symbols-rounded text-primary">verified</span>
                    <span id="toastMessage"></span>
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
            </div>
        </div>
    </div>

    <div class="modal fade" id="universalModal" tabindex="-1">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content rounded-5 border-0 shadow-lg">
                <div class="modal-header border-0 pb-0 px-4 pt-4">
                    <h5 class="modal-title fw-bold" id="modalTitle"></h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body p-4" id="modalBody"></div>
                <div class="modal-footer border-0 p-4 pt-0">
                    <button type="button" class="btn btn-light rounded-pill px-4" data-bs-dismiss="modal">Cancel</button>
                    <button type="button" id="modalActionBtn" class="btn btn-primary rounded-pill px-4">Save</button>
                </div>
            </div>
        </div>
    </div>

    <div class="d-flex w-100">
        <aside class="offcanvas-lg offcanvas-start sidebar-fixed" id="sidebarOffcanvas">
            <div class="d-flex flex-column h-100 p-4">
                <div class="d-flex align-items-center gap-2 mb-5 px-2">
                    <span class="material-symbols-rounded fs-2 text-primary">health_and_safety</span>
                    <h4 class="fw-bold mb-0">MediSync</h4>
                </div>

                <ul class="nav nav-pills flex-column gap-1">
                    <li><a href="#" onclick="loadPage('dashboard', this)" class="nav-link active rounded-4 d-flex gap-3"><span class="material-symbols-rounded">dashboard</span> Dashboard</a></li>
                    <li><a href="#" onclick="loadPage('patients', this)" class="nav-link rounded-4 d-flex gap-3"><span class="material-symbols-rounded">person</span> Patients</a></li>
                    <li><a href="#" onclick="loadPage('doctors', this)" class="nav-link rounded-4 d-flex gap-3"><span class="material-symbols-rounded">medical_services</span> Doctors</a></li>
                    <li><a href="#" onclick="loadPage('appointments', this)" class="nav-link rounded-4 d-flex gap-3"><span class="material-symbols-rounded">event</span> Schedule</a></li>
                    <hr class="my-3 opacity-10">
                    <li><a href="#" onclick="loadPage('pharmacy', this)" class="nav-link rounded-4 d-flex gap-3"><span class="material-symbols-rounded">pill</span> Pharmacy</a></li>
                    <li><a href="#" onclick="loadPage('billing', this)" class="nav-link rounded-4 d-flex gap-3"><span class="material-symbols-rounded">payments</span> Billing</a></li>
                </ul>

                <div class="mt-auto">
                    <button class="btn btn-danger-subtle text-danger w-100 rounded-4 py-3 fw-bold d-flex align-items-center justify-content-center gap-2" onclick="openModal('logout')">
                        <span class="material-symbols-rounded">logout</span> Logout
                    </button>
                </div>
            </div>
        </aside>

        <main class="flex-grow-1 p-3 p-lg-5">
            <header class="d-flex justify-content-between align-items-center mb-5">
                <div>
                    <h2 class="fw-bold mb-0" id="pageTitle">Dashboard</h2>
                    <p class="text-secondary small">Welcome back, <span class="text-primary fw-bold">Venkatesh</span></p>
                </div>
                <div class="d-flex align-items-center gap-3 bg-body p-2 rounded-pill shadow-sm pe-4">
                    <div class="form-check form-switch ms-3">
                        <input class="form-check-input" type="checkbox" id="themeToggle">
                        <span class="material-symbols-rounded fs-5 text-secondary">dark_mode</span>
                    </div>
                    <div class="vr"></div>
                    <img src="https://i.pravatar.cc/150?u=venkatesh" class="rounded-circle" width="38">
                </div>
            </header>

            <div id="dynamicContent">
                </div>
        </main>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        const views = {
            dashboard: `
                <div class="row g-4 mb-4">
                    <div class="col-md-4"><div class="card border-0 shadow-sm rounded-4 p-4 hover-lift">
                        <div class="icon-circle bg-primary bg-opacity-10 text-primary mb-3"><span class="material-symbols-rounded">group</span></div>
                        <h3 class="fw-bold">1,284</h3><p class="text-secondary mb-0">Total Patients</p>
                    </div></div>
                    <div class="col-md-4"><div class="card border-0 shadow-sm rounded-4 p-4 hover-lift">
                        <div class="icon-circle bg-success bg-opacity-10 text-success mb-3"><span class="material-symbols-rounded">check_circle</span></div>
                        <h3 class="fw-bold">42</h3><p class="text-secondary mb-0">Available Doctors</p>
                    </div></div>
                    <div class="col-md-4"><div class="card border-0 shadow-sm rounded-4 p-4 hover-lift">
                        <div class="icon-circle bg-warning bg-opacity-10 text-warning mb-3"><span class="material-symbols-rounded">pending_actions</span></div>
                        <h3 class="fw-bold">18</h3><p class="text-secondary mb-0">Pending Appointments</p>
                    </div></div>
                </div>
                <div class="card border-0 shadow-sm rounded-4 p-4">
                    <h5 class="fw-bold mb-4">Patient Admission Trends</h5>
                    <canvas id="statsChart" height="100"></canvas>
                </div>
            `,
            patients: `<div class="card border-0 shadow-sm rounded-4 p-4"><h3>Patient Management</h3><p>Manage records here.</p></div>`,
            doctors: `<div class="card border-0 shadow-sm rounded-4 p-4"><h3>Doctor Directory</h3><p>Staff availability and shifts.</p></div>`,
            appointments: `<div class="card border-0 shadow-sm rounded-4 p-4"><h3>Weekly Schedule</h3><p>Appointment booking system.</p></div>`,
            pharmacy: `<div class="card border-0 shadow-sm rounded-4 p-4"><h3>Pharmacy Inventory</h3><p>Track medicine stock.</p></div>`,
            billing: `<div class="card border-0 shadow-sm rounded-4 p-4"><h3>Financial Records</h3><p>Invoices and payments.</p></div>`
        };

        function performLogin(e) {
            e.preventDefault();
            const overlay = document.getElementById('loginOverlay');
            overlay.classList.remove('active');
            setTimeout(() => {
                overlay.style.display = 'none';
                document.body.classList.remove('overflow-hidden');
                loadPage('dashboard');
                showToast('Authenticated Successfully');
            }, 500);
        }

        function performLogout() {
            bootstrap.Modal.getInstance(document.getElementById('universalModal')).hide();
            showToast('Signing out...');
            setTimeout(() => {
                const overlay = document.getElementById('loginOverlay');
                overlay.style.display = 'flex';
                setTimeout(() => overlay.classList.add('active'), 10);
                document.body.classList.add('overflow-hidden');
            }, 800);
        }

        function loadPage(pageId, element) {
            const content = document.getElementById('dynamicContent');
            if(element) {
                document.querySelectorAll('.nav-link').forEach(l => l.classList.remove('active'));
                element.classList.add('active');
            }
            content.style.opacity = '0';
            setTimeout(() => {
                content.innerHTML = views[pageId];
                document.getElementById('pageTitle').innerText = pageId.charAt(0).toUpperCase() + pageId.slice(1);
                content.style.opacity = '1';
                if(pageId === 'dashboard') initChart();
            }, 300);
        }

        function initChart() {
            const ctx = document.getElementById('statsChart').getContext('2d');
            new Chart(ctx, {
                type: 'line',
                data: {
                    labels: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun'],
                    datasets: [{
                        label: 'Admissions',
                        data: [12, 19, 15, 25, 22, 30, 28],
                        borderColor: '#7380ec',
                        tension: 0.4,
                        fill: true,
                        backgroundColor: 'rgba(115, 128, 236, 0.1)'
                    }]
                },
                options: { plugins: { legend: { display: false } }, scales: { y: { beginAtZero: true } } }
            });
        }

        function openModal(type) {
            const title = document.getElementById('modalTitle');
            const body = document.getElementById('modalBody');
            const btn = document.getElementById('modalActionBtn');
            const modal = new bootstrap.Modal(document.getElementById('universalModal'));

            if(type === 'logout') {
                title.innerText = 'Logout Confirmation';
                body.innerHTML = 'Are you sure you want to exit the system? All unsaved changes will be lost.';
                btn.innerText = 'Logout Now';
                btn.className = 'btn btn-danger rounded-pill px-4';
                btn.onclick = performLogout;
            }
            modal.show();
        }

        function showToast(msg) {
            document.getElementById('toastMessage').innerText = msg;
            new bootstrap.Toast(document.getElementById('liveToast')).show();
        }

        document.getElementById('themeToggle').onclick = function() {
            const theme = this.checked ? 'dark' : 'light';
            document.documentElement.setAttribute('data-bs-theme', theme);
        };

        // Initialize App
        window.onload = () => {
            loadPage('dashboard');
        };
    </script>
</body>
</html>