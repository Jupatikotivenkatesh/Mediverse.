<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NutriHeal | Disease Diet Plans</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        /* Custom Styles to supplement Bootstrap */
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa; /* Light gray background */
        }

        /* Custom Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }
        ::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        ::-webkit-scrollbar-thumb {
            background: #adb5bd;
            border-radius: 10px;
        }
        ::-webkit-scrollbar-thumb:hover {
            background: #6c757d;
        }

        /* Hover Lift Effect for Cards */
        .hover-lift {
            transition: transform 0.2s ease-in-out, box-shadow 0.2s ease-in-out;
        }
        .hover-lift:hover {
            transform: translateY(-5px);
            box-shadow: 0 .5rem 1rem rgba(0,0,0,.15)!important;
        }

        /* Custom Navigation Tabs */
        .nav-btn {
            border: none;
            background: transparent;
            padding: 0.75rem 1.5rem;
            font-weight: 600;
            color: #6c757d;
            border-bottom: 3px solid transparent;
            transition: all 0.3s ease;
        }
        .nav-btn:hover {
            color: #212529;
        }
        .nav-btn.active {
            color: #0d6efd; /* Bootstrap Primary */
            border-bottom-color: #0d6efd;
        }

        /* Modal Tab Styles */
        .modal-tab-btn {
            border: none;
            background: transparent;
            padding: 0.5rem 1rem;
            font-weight: 600;
            color: #6c757d;
            border-bottom: 2px solid transparent;
            width: 100%;
        }
        .modal-tab-btn:hover {
            color: #343a40;
        }
        .modal-tab-btn.active {
            color: #0d6efd;
            border-bottom-color: #0d6efd;
            background-color: #f8f9fa;
        }

        /* Glassmorphism Header */
        .header-glass {
            background: rgba(255, 255, 255, 0.85);
            backdrop-filter: blur(10px);
            -webkit-backdrop-filter: blur(10px);
        }
    </style>
</head>
<body class="text-dark">

    <div id="app" class="min-vh-100 d-flex flex-column">
        
        <header class="header-glass shadow-sm sticky-top py-3">
            <div class="container d-flex align-items-center justify-content-between">
                <div class="d-flex align-items-center">
                    <i class="fas fa-seedling fa-2x text-success me-3"></i>
                    <h1 class="h4 fw-bold mb-0 text-dark">NutriHeal</h1>
                </div>
                <p class="d-none d-sm-block text-secondary fw-medium mb-0">Your Guide to a Healthier Diet</p>
            </div>
        </header>

        <main class="container py-4 py-md-5">
            
            <section class="mb-5 bg-white rounded shadow-sm">
                <div class="d-flex justify-content-center border-bottom">
                    <button id="nav-diet" class="nav-btn active">
                        <i class="fas fa-search me-2"></i> Diet Plan Finder
                    </button>
                    <button id="nav-education" class="nav-btn">
                        <i class="fas fa-book-medical me-2"></i> Health Education
                    </button>
                </div>
            </section>
            
            <div>
                <div id="content-diet-finder">
                    <section class="text-center mb-5">
                        <h2 class="fw-bold text-dark">Find Your Diet Plan</h2>
                        <p class="text-secondary mb-4">Search for a condition to find recommended dietary guidelines.</p>
                        
                        <div class="position-relative mx-auto" style="max-width: 600px;">
                            <input type="search" id="search-box" placeholder="Search for a disease (e.g., Diabetes, Flu...)" class="form-control form-control-lg rounded-pill ps-5 shadow-sm border-0">
                            <i class="fas fa-search position-absolute top-50 start-0 translate-middle-y ms-3 text-secondary"></i>
                        </div>
                    </section>

                    <section id="disease-grid" class="row g-4">
                        </section>
                    
                    <p id="no-results" class="text-center text-secondary d-none mt-5">No results found. Please try a different search term.</p>
                </div>

                <div id="content-health-education" class="d-none">
                    <section>
                        <div class="text-center mb-5">
                             <h2 class="fw-bold text-dark">Health Education Hub</h2>
                             <p class="text-secondary col-lg-8 mx-auto">Learn how to promote awareness, build healthy habits, and prevent illness across different areas of health.</p>
                        </div>

                        <div class="d-flex flex-column gap-4">

                            <div class="card border-0 shadow-sm">
                                <div class="card-body p-4 p-lg-5">
                                    <h3 class="h4 fw-bold text-dark mb-2">
                                        <span class="fs-2 me-2">ðŸ©º</span> 1. Chronic & Common Diseases
                                    </h3>
                                    <p class="small text-muted fst-italic mb-4">Examples: Cough, Cold, Asthma, Diabetes, Hypertension, Arthritis</p>
                                    
                                    <div class="row g-4">
                                        <div class="col-md-6">
                                            <h4 class="h6 fw-bold text-primary mb-2"><i class="fas fa-lightbulb me-2"></i> Promotes Awareness</h4>
                                            <ul class="text-secondary small">
                                                <li>Learn how chronic diseases develop â€” often due to lifestyle, pollution, or heredity.</li>
                                                <li>Know early symptoms like persistent cough, fatigue, or high blood pressure.</li>
                                                <li>Attend health checkups and understand the importance of regular monitoring.</li>
                                            </ul>

                                            <h4 class="h6 fw-bold text-success mt-4 mb-2"><i class="fas fa-apple-alt me-2"></i> Encourages Healthy Habits</h4>
                                            <ul class="text-secondary small">
                                                <li>Eat balanced meals rich in fiber, fruits, and vegetables.</li>
                                                <li>Avoid excessive sugar, salt, and oily foods.</li>
                                                <li>Exercise regularly (walking, yoga, breathing exercises).</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h4 class="h6 fw-bold text-danger mb-2"><i class="fas fa-shield-alt me-2"></i> Prevention over Cure</h4>
                                            <ul class="text-secondary small">
                                                <li>Get vaccinated against influenza and pneumonia.</li>
                                                <li>Maintain good indoor air quality.</li>
                                                <li>Manage stress through relaxation.</li>
                                            </ul>

                                            <h4 class="h6 fw-bold text-info mt-4 mb-2"><i class="fas fa-users me-2"></i> Empowers Communities</h4>
                                            <ul class="text-secondary small">
                                                <li>Encourage others to quit smoking.</li>
                                                <li>Support local health camps.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="card border-0 shadow-sm">
                                <div class="card-body p-4 p-lg-5">
                                    <h3 class="h4 fw-bold text-dark mb-2">
                                        <span class="fs-2 me-2">ðŸ¤¢</span> 2. Communicable & Infectious Diseases
                                    </h3>
                                    <p class="small text-muted fst-italic mb-4">Examples: COVID-19, Influenza, Tuberculosis, Malaria, Dengue</p>
                                    
                                    <div class="row g-4">
                                        <div class="col-md-6">
                                            <h4 class="h6 fw-bold text-primary mb-2"><i class="fas fa-lightbulb me-2"></i> Promotes Awareness</h4>
                                            <ul class="text-secondary small">
                                                <li>Learn how infections spread (air, water, contact).</li>
                                                <li>Understand symptoms like fever, cough, rashes.</li>
                                            </ul>
                                            <h4 class="h6 fw-bold text-success mt-4 mb-2"><i class="fas fa-hands-wash me-2"></i> Encourages Healthy Habits</h4>
                                            <ul class="text-secondary small">
                                                <li>Wash hands frequently.</li>
                                                <li>Wear masks in crowded areas.</li>
                                            </ul>
                                        </div>
                                        <div class="col-md-6">
                                            <h4 class="h6 fw-bold text-danger mb-2"><i class="fas fa-syringe me-2"></i> Prevention over Cure</h4>
                                            <ul class="text-secondary small">
                                                <li>Get vaccinated.</li>
                                                <li>Use mosquito repellents.</li>
                                                <li>Maintain hygiene.</li>
                                            </ul>
                                        </div>
                                    </div>
                                </div>
                            </div>

                            <div class="alert alert-light text-center border mt-3">
                                <small>More educational modules (Nutritional, Mental Health, Environmental) available in full version.</small>
                            </div>

                        </div>
                    </section>
                </div>
            </div>
        </main>
    </div>

    <div class="modal fade" id="dietModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-lg modal-dialog-centered modal-dialog-scrollable">
            <div class="modal-content border-0 shadow-lg rounded-4">
                <div class="modal-header border-bottom-0 pb-0">
                    <h3 class="modal-title h4 fw-bold text-dark" id="modal-title"></h3>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                
                <div class="modal-body p-4 p-md-5">
                    <div class="row g-0 border-bottom mb-4 bg-light rounded overflow-hidden">
                        <div class="col-4">
                            <button data-tab="recovery" class="modal-tab-btn active detail-tab">Recovery Diet</button>
                        </div>
                        <div class="col-4">
                            <button data-tab="prevention" class="modal-tab-btn detail-tab">Prevention Diet</button>
                        </div>
                        <div class="col-4">
                            <button data-tab="avoid" class="modal-tab-btn detail-tab">Foods to Avoid</button>
                        </div>
                    </div>

                    <div id="modal-details">
                        </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            
            // --- Placeholder Content ---
            const placeholderRecovery = {
                title: 'Professional Consultation Required',
                points: ["Dietary needs are individual.", "Consult a dietitian.", "Placeholder content."],
                sampleMeal: { breakfast: "Consult pro", lunch: "Consult pro", dinner: "Consult pro" }
            };
            const placeholderPrevention = {
                title: 'General Wellness',
                points: ["Eat balanced diet.", "Consult doctor."],
                sampleMeal: { breakfast: "Consult pro", lunch: "Consult pro", dinner: "Consult pro" }
            };
            const placeholderAvoid = ["Foods specific to your condition.", "Seek advice."];

            // --- Data Store ---
            const dietPlans = [
                {
                    id: 'diabetes-2',
                    name: 'Type 2 Diabetes',
                    icon: 'fas fa-tint',
                    description: 'Managing blood sugar levels through a balanced diet rich in nutrients.',
                    recovery: {
                        title: 'Diet for Blood Sugar Control',
                        points: [
                            "Focus on complex carbohydrates: whole grains like oats and quinoa.",
                            "Incorporate lean proteins: chicken, fish, tofu.",
                            "Eat plenty of non-starchy vegetables.",
                            "Choose healthy fats: avocados, nuts, olive oil.",
                            "Monitor portion sizes."
                        ],
                        sampleMeal: {
                            breakfast: "Oatmeal with berries and nuts.",
                            lunch: "Grilled chicken salad.",
                            dinner: "Baked salmon with quinoa."
                        }
                    },
                    prevention: {
                        title: 'Long-Term Prevention',
                        points: ["Consistent meal schedule.", "Limit sugary drinks.", "Prioritize fiber.", "Regular exercise."],
                        sampleMeal: {
                            breakfast: "Eggs with spinach.",
                            lunch: "Lentil soup.",
                            dinner: "Turkey meatballs with veggies."
                        }
                    },
                    avoid: ["Sugary beverages.", "Refined grains (white bread).", "Processed meats.", "Full-fat dairy."]
                },
                {
                    id: 'hypertension',
                    name: 'Hypertension',
                    icon: 'fas fa-heartbeat',
                    description: 'Reducing sodium intake (DASH Diet) to manage blood pressure.',
                    recovery: {
                        title: 'DASH Diet Approach',
                        points: ["Reduce sodium drastically.", "Increase potassium (bananas, spinach).", "Focus on whole grains.", "Limit saturated fats."],
                        sampleMeal: {
                            breakfast: "Yogurt with banana.",
                            lunch: "Large salad with grilled fish.",
                            dinner: "Whole-wheat pasta with turkey."
                        }
                    },
                    prevention: {
                        title: 'Maintaining Healthy BP',
                        points: ["Read food labels for sodium.", "Limit alcohol.", "Regular brisk walking.", "Manage stress."],
                        sampleMeal: {
                            breakfast: "Green smoothie.",
                            lunch: "Bean wrap.",
                            dinner: "Chicken stir-fry."
                        }
                    },
                    avoid: ["Canned soups.", "Salty snacks.", "Cured meats.", "Excessive caffeine."]
                },
                {
                    id: 'obesity',
                    name: 'Obesity',
                    icon: 'fas fa-weight',
                    description: 'Creating a sustainable calorie deficit with nutrient-dense foods.',
                    recovery: placeholderRecovery, prevention: placeholderPrevention, avoid: placeholderAvoid
                },
                {
                    id: 'gerd',
                    name: 'Acid Reflux (GERD)',
                    icon: 'fas fa-fire-extinguisher',
                    description: 'Avoiding trigger foods like citrus, tomato, and fatty meals.',
                    recovery: placeholderRecovery, prevention: placeholderPrevention, avoid: placeholderAvoid
                },
                {
                    id: 'flu-cold',
                    name: 'Common Cold & Flu',
                    icon: 'fas fa-head-side-cough',
                    description: 'Immune support with fluids and Vitamin C.',
                    recovery: {
                        title: 'Immune-Boosting Diet',
                        points: ["Stay hydrated.", "Consume Vitamin C foods.", "Eat zinc-rich foods.", "Warm soups."],
                        sampleMeal: { breakfast: "Oatmeal + Tea", lunch: "Chicken soup", dinner: "Steamed veggies + tofu" }
                    },
                    prevention: {
                        title: 'Strengthening Immunity',
                        points: ["Balanced diet year-round.", "Adequate sleep.", "Probiotics.", "Hygiene."],
                        sampleMeal: { breakfast: "Yogurt + berries", lunch: "Quinoa salad", dinner: "Beef broccoli stir-fry" }
                    },
                    avoid: ["Sugary foods.", "Greasy foods.", "Alcohol."]
                },
                {
                    id: 'anemia',
                    name: 'Anemia',
                    icon: 'fas fa-leaf',
                    description: 'Increasing iron intake to restore red blood cells.',
                    recovery: placeholderRecovery, prevention: placeholderPrevention, avoid: placeholderAvoid
                }
            ];

            // --- Elements ---
            const diseaseGrid = document.getElementById('disease-grid');
            const searchBox = document.getElementById('search-box');
            const noResultsMsg = document.getElementById('no-results');
            
            // Bootstrap Modal Instance
            const dietModal = new bootstrap.Modal(document.getElementById('dietModal'));
            const modalTitle = document.getElementById('modal-title');
            const modalDetails = document.getElementById('modal-details');

            // --- Navigation Logic ---
            const navDiet = document.getElementById('nav-diet');
            const navEducation = document.getElementById('nav-education');
            const contentDiet = document.getElementById('content-diet-finder');
            const contentEducation = document.getElementById('content-health-education');

            navDiet.addEventListener('click', () => {
                contentDiet.classList.remove('d-none');
                contentEducation.classList.add('d-none');
                navDiet.classList.add('active');
                navEducation.classList.remove('active');
            });

            navEducation.addEventListener('click', () => {
                contentEducation.classList.remove('d-none');
                contentDiet.classList.add('d-none');
                navEducation.classList.add('active');
                navDiet.classList.remove('active');
            });

            // --- Rendering Cards ---
            function renderDiseaseCards(plans) {
                diseaseGrid.innerHTML = '';
                if (plans.length === 0) {
                    noResultsMsg.classList.remove('d-none');
                } else {
                    noResultsMsg.classList.add('d-none');
                }

                plans.sort((a, b) => a.name.localeCompare(b.name));

                plans.forEach(plan => {
                    const col = document.createElement('div');
                    col.className = 'col-12 col-sm-6 col-lg-4';
                    
                    col.innerHTML = `
                        <div class="card h-100 border-0 shadow-sm hover-lift cursor-pointer disease-card" data-id="${plan.id}">
                            <div class="card-body p-4 d-flex flex-column">
                                <div class="d-flex align-items-center mb-3">
                                    <i class="${plan.icon} fa-2x text-primary me-3"></i>
                                    <h5 class="card-title fw-bold text-dark mb-0">${plan.name}</h5>
                                </div>
                                <p class="card-text text-secondary flex-grow-1">${plan.description}</p>
                                <button class="btn btn-link text-primary text-decoration-none p-0 fw-semibold align-self-start mt-3">View Plan &rarr;</button>
                            </div>
                        </div>
                    `;
                    diseaseGrid.appendChild(col);
                });
            }

            // --- Modal Logic ---
            function openModal(planId) {
                const plan = dietPlans.find(p => p.id === planId);
                if (!plan) return;

                modalTitle.textContent = plan.name;
                
                // Reset active tab to Recovery
                document.querySelectorAll('.modal-tab-btn').forEach(btn => {
                    btn.classList.remove('active');
                    if(btn.dataset.tab === 'recovery') btn.classList.add('active');
                });

                renderTabContent(plan, 'recovery');
                dietModal.show();
            }

            function renderTabContent(plan, tabName) {
                let contentHTML = '';
                const data = plan[tabName];

                if(tabName === 'avoid') {
                     contentHTML = `
                        <h4 class="h5 fw-bold text-danger mb-3">Foods to Strictly Avoid</h4>
                        <ul class="list-group list-group-flush">
                            ${data.map(item => `<li class="list-group-item bg-transparent px-0"><i class="fas fa-times text-danger me-2"></i>${item}</li>`).join('')}
                        </ul>
                    `;
                } else {
                    contentHTML = `
                        <h4 class="h5 fw-bold text-primary mb-3">${data.title}</h4>
                        <ul class="mb-4 text-secondary">
                            ${data.points.map(point => `<li>${point}</li>`).join('')}
                        </ul>
                        <div class="card bg-light border-0">
                            <div class="card-body">
                                <h5 class="h6 fw-bold text-dark mb-3">Sample Meal Plan</h5>
                                <p class="mb-1"><strong class="text-dark">Breakfast:</strong> ${data.sampleMeal.breakfast}</p>
                                <p class="mb-1"><strong class="text-dark">Lunch:</strong> ${data.sampleMeal.lunch}</p>
                                <p class="mb-0"><strong class="text-dark">Dinner:</strong> ${data.sampleMeal.dinner}</p>
                            </div>
                        </div>
                    `;
                }
                modalDetails.innerHTML = contentHTML;
            }

            // --- Events ---
            
            // Search
            searchBox.addEventListener('input', (e) => {
                const term = e.target.value.toLowerCase();
                const filtered = dietPlans.filter(p => 
                    p.name.toLowerCase().includes(term) || 
                    p.description.toLowerCase().includes(term)
                );
                renderDiseaseCards(filtered);
            });

            // Open Modal (Delegation)
            diseaseGrid.addEventListener('click', (e) => {
                const card = e.target.closest('.disease-card');
                if (card) openModal(card.dataset.id);
            });

            // Modal Tab Switching
            document.querySelectorAll('.modal-tab-btn').forEach(btn => {
                btn.addEventListener('click', (e) => {
                    // Update Active Class
                    document.querySelectorAll('.modal-tab-btn').forEach(b => b.classList.remove('active'));
                    e.target.classList.add('active');

                    // Render Content
                    const planName = document.getElementById('modal-title').textContent;
                    const plan = dietPlans.find(p => p.name === planName);
                    if(plan) renderTabContent(plan, e.target.dataset.tab);
                });
            });

            // Initial Render
            renderDiseaseCards(dietPlans);
        });
    </script>
</body>
</html>