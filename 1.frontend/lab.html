<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab Test Booking | MediSync</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">

    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">

    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #f8f9fa;
        }

        /* --- Custom Styles complementing Bootstrap --- */
        
        .header-title {
            color: #1a2a45;
            font-weight: 700;
        }

        /* Test Card Hover Effect */
        .test-card {
            transition: transform 0.3s ease, box-shadow 0.3s ease;
            height: 100%; /* Ensure equal height in grid */
            border: none;
            border-radius: 12px;
            box-shadow: 0 0.125rem 0.25rem rgba(0, 0, 0, 0.075);
        }
        
        .test-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 0.5rem 1rem rgba(0, 0, 0, 0.15);
        }

        .test-card .card-text {
            border-left: 3px solid #0d6efd; /* Bootstrap primary color */
            padding-left: 1rem;
            color: #6c757d; /* Text muted */
        }

        .section-header {
            color: #1a2a45;
            font-weight: 600;
            border-bottom: 3px solid #0d6efd;
            display: inline-block;
            padding-bottom: 5px;
            margin-top: 2rem;
            margin-bottom: 1.5rem;
        }

        /* Info Item alignment */
        .info-item i {
            width: 20px;
            text-align: center;
            margin-right: 5px;
        }
    </style>
</head>
<body class="py-5">

    <div class="container" style="max-width: 1200px;">
        <header class="text-center mb-5">
            <h1 class="header-title display-5">Laboratory & Imaging Directory</h1>
        </header>

        <div class="row justify-content-center mb-5">
            <div class="col-md-8 col-lg-6">
                <div class="input-group input-group-lg shadow-sm">
                    <span class="input-group-text bg-white border-end-0"><i class="fas fa-search text-muted"></i></span>
                    <input type="text" id="test-search" class="form-control border-start-0" placeholder="Search for a lab test, X-Ray, or scan...">
                </div>
            </div>
        </div>

        <div id="test-grid">
            
            <div class="row g-4 mb-4 test-section">
                <div class="col-12">
                    <h2 class="section-header h3">Popular Tests</h2>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Complete Blood Count (CBC)</h3>
                            <p class="card-text mb-4 flex-grow-1">Evaluates your overall health and detects a wide range of disorders, including anemia, infection, and leukemia.</p>
                            
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 350.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 6 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Lipid Profile</h3>
                            <p class="card-text mb-4 flex-grow-1">Measures the amount of lipids in the blood to assess the risk of cardiovascular disease.</p>
                            
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 750.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 11 AM (Fasting)</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Thyroid Stimulating Hormone (TSH)</h3>
                            <p class="card-text mb-4 flex-grow-1">Checks thyroid gland function. A key indicator for diagnosing hypothyroidism or hyperthyroidism.</p>
                            
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 400.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 6 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">X-Ray Chest (PA View)</h3>
                            <p class="card-text mb-4 flex-grow-1">An imaging test that produces a black-and-white image of your lungs, heart, airways, and bones of the chest.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 500.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 9 AM - 8 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Liver Function Test (LFT)</h3>
                            <p class="card-text mb-4 flex-grow-1">A blood test that helps diagnose and monitor liver-related diseases or damage.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 900.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 1 PM (Fasting)</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">CT Scan Brain</h3>
                            <p class="card-text mb-4 flex-grow-1">A computerized tomography (CT) scan combines a series of X-ray images to create detailed images of the brain.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 2500.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> By Appointment</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Electrocardiogram (ECG)</h3>
                            <p class="card-text mb-4 flex-grow-1">Records the electrical signal from the heart to check for different heart conditions.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 300.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 24 Hours</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row g-4 mb-4 test-section">
                <div class="col-12">
                    <h2 class="section-header h3">Blood Tests</h2>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Blood Sugar (FBS/PPBS)</h3>
                            <p class="card-text mb-4 flex-grow-1">Measures glucose levels in your blood to screen for and manage diabetes.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 200.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 11 AM (Fasting)</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">HbA1c</h3>
                            <p class="card-text mb-4 flex-grow-1">Provides an average of your blood sugar levels over the past three months.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 450.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 6 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Kidney Function Tests (KFT)</h3>
                            <p class="card-text mb-4 flex-grow-1">Assesses how well your kidneys are working by measuring levels of various substances in the blood.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 800.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 6 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Vitamin D</h3>
                            <p class="card-text mb-4 flex-grow-1">Measures the level of Vitamin D in the blood, essential for bone health and immune function.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 1200.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 6 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row g-4 mb-4 test-section">
                <div class="col-12">
                    <h2 class="section-header h3">Urine & Stool Tests</h2>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Urinalysis</h3>
                            <p class="card-text mb-4 flex-grow-1">A test of your urine to detect and manage a wide range of disorders, such as urinary tract infections and kidney disease.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 250.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 2 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Stool Routine & Microscopy</h3>
                            <p class="card-text mb-4 flex-grow-1">Examines a stool sample for parasites, bacteria, and other signs of digestive system problems.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 300.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 2 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Fecal Occult Blood Test (FOBT)</h3>
                            <p class="card-text mb-4 flex-grow-1">Checks for hidden blood in the stool, which can be an early sign of cancer or other digestive issues.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 600.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 2 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div class="row g-4 mb-4 test-section">
                <div class="col-12">
                    <h2 class="section-header h3">Cardiac & Infectious Disease</h2>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Troponin I/T</h3>
                            <p class="card-text mb-4 flex-grow-1">Measures the level of troponin proteins in the blood to diagnose a heart attack.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 1500.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 24 Hours (STAT)</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">Dengue NS1 / IgM / IgG</h3>
                            <p class="card-text mb-4 flex-grow-1">Blood test to detect the dengue virus and determine the stage of infection.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 1100.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 8 AM - 8 PM</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="col-md-6 col-lg-4 test-item">
                    <div class="card test-card p-3">
                        <div class="card-body d-flex flex-column">
                            <h3 class="h5 card-title text-primary fw-bold mb-3">COVID-19 PCR</h3>
                            <p class="card-text mb-4 flex-grow-1">A highly accurate molecular test to detect the presence of the COVID-19 virus.</p>
                            <div class="bg-light p-3 rounded d-flex flex-column gap-2">
                                <div class="d-flex justify-content-between align-items-center mb-2">
                                    <div class="info-item text-success fw-semibold"><i class="fas fa-rupee-sign"></i> 500.00</div>
                                    <div class="info-item text-secondary small"><i class="fas fa-clock text-warning"></i> 24 Hours</div>
                                </div>
                                <button class="btn btn-primary w-100 fw-medium book-now-btn">Book Now</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <div id="no-results" class="text-center py-5 d-none">
                <p class="h5 text-muted">No lab tests found matching your search.</p>
            </div>

        </div>
    </div>

    <div class="modal fade" id="bookingModal" tabindex="-1" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered">
            <div class="modal-content">
                <div class="modal-header border-bottom-0 pb-0">
                    <h5 class="modal-title fw-bold">Book Lab Test</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <p class="text-muted mb-4">You are booking: <strong id="modal-test-name" class="text-primary"></strong></p>
                    <form id="booking-form">
                        <div class="mb-3">
                            <label for="patient-name" class="form-label">Patient Name</label>
                            <input type="text" class="form-control" id="patient-name" required>
                        </div>
                        <div class="mb-3">
                            <label for="contact-number" class="form-label">Contact Number</label>
                            <input type="tel" class="form-control" id="contact-number" required>
                        </div>
                        <div class="mb-4">
                            <label for="booking-date" class="form-label">Preferred Date</label>
                            <input type="date" class="form-control" id="booking-date" required>
                        </div>
                        <button type="submit" class="btn btn-success w-100 fw-bold">Confirm Booking</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <div class="toast-container position-fixed bottom-0 start-50 translate-middle-x p-3">
        <div id="successToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true">
            <div class="d-flex">
                <div class="toast-body fw-medium" id="toast-message">
                    Booking Confirmed!
                </div>
                <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const searchInput = document.getElementById('test-search');
            const testSections = document.querySelectorAll('.test-section');
            const noResultsMessage = document.getElementById('no-results');
            
            // Bootstrap Modal & Toast Instances
            const bookingModal = new bootstrap.Modal(document.getElementById('bookingModal'));
            const successToast = new bootstrap.Toast(document.getElementById('successToast'));
            
            const bookingForm = document.getElementById('booking-form');
            const modalTestName = document.getElementById('modal-test-name');
            const toastMessage = document.getElementById('toast-message');

            // --- SEARCH FUNCTIONALITY ---
            searchInput.addEventListener('input', () => {
                const searchTerm = searchInput.value.toLowerCase();
                let totalVisible = 0;

                testSections.forEach(section => {
                    const cards = section.querySelectorAll('.test-item');
                    let sectionVisibleCount = 0;

                    cards.forEach(cardWrapper => {
                        const title = cardWrapper.querySelector('.card-title').textContent.toLowerCase();
                        const desc = cardWrapper.querySelector('.card-text').textContent.toLowerCase();
                        
                        if (title.includes(searchTerm) || desc.includes(searchTerm)) {
                            cardWrapper.classList.remove('d-none');
                            sectionVisibleCount++;
                        } else {
                            cardWrapper.classList.add('d-none');
                        }
                    });

                    // Hide section header if no cards visible in that section
                    if (sectionVisibleCount === 0) {
                        section.classList.add('d-none');
                    } else {
                        section.classList.remove('d-none');
                    }
                    totalVisible += sectionVisibleCount;
                });

                if (totalVisible === 0) {
                    noResultsMessage.classList.remove('d-none');
                } else {
                    noResultsMessage.classList.add('d-none');
                }
            });

            // --- BOOKING LOGIC ---
            // Event delegation for "Book Now" buttons
            document.getElementById('test-grid').addEventListener('click', (e) => {
                if (e.target.classList.contains('book-now-btn')) {
                    // Find the card title
                    const cardBody = e.target.closest('.card-body');
                    const testName = cardBody.querySelector('.card-title').textContent;
                    
                    modalTestName.textContent = testName;
                    bookingModal.show();
                }
            });

            // Form Submission
            bookingForm.addEventListener('submit', (e) => {
                e.preventDefault();
                
                const patientName = document.getElementById('patient-name').value;
                
                // Show Success Message
                toastMessage.textContent = `Booking confirmed for ${patientName}!`;
                bookingModal.hide();
                successToast.show();
                
                // Reset form
                bookingForm.reset();
            });
        });
    </script>
</body>
</html>